{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.js","webpack:///./src/controllers/user/login.js","webpack:///./src/controllers/user/signup.js","webpack:///./src/controllers/user/validateToken.js","webpack:///./src/controllers/utils.js","webpack:///./src/db/Mongodb.js","webpack:///./src/db/models/users.model.js","webpack:///./src/status.js","webpack:///external \"bcrypt\"","webpack:///external \"dotenv\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"mongoose\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","loginFunction","signupFunction","validateTokenFunction","isAliveFunction","vtnc","_src_controllers_user_login__WEBPACK_IMPORTED_MODULE_0__","_src_controllers_user_signup__WEBPACK_IMPORTED_MODULE_1__","_src_controllers_user_validateToken__WEBPACK_IMPORTED_MODULE_2__","login","signup","validateToken","event","console","log","body","httpMethod","queryStringParameters","multiValueQueryStringParameters","stageVariables","resource","pathParameters","bcrypt__WEBPACK_IMPORTED_MODULE_0__","bcrypt__WEBPACK_IMPORTED_MODULE_0___default","jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__","jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default","dotenv__WEBPACK_IMPORTED_MODULE_2__","dotenv__WEBPACK_IMPORTED_MODULE_2___default","_status__WEBPACK_IMPORTED_MODULE_3__","_db_Mongodb__WEBPACK_IMPORTED_MODULE_4__","dotenv","config","conn","async","username","password","JSON","parse","SECRET","MONGO_URL","Users","MongoDB","mongoUrl","undefined","model","user","findOne","status","statusCode","UNAUTHORIZED","code","stringify","error","bcrypt","compare","token","jwt","sign","ida","_id","expiresIn","ACCEPTED","data","INTERNAL_SERVER_ERROR","dotenv__WEBPACK_IMPORTED_MODULE_0__","dotenv__WEBPACK_IMPORTED_MODULE_0___default","_utils__WEBPACK_IMPORTED_MODULE_2__","_db_Mongodb__WEBPACK_IMPORTED_MODULE_3__","_status__WEBPACK_IMPORTED_MODULE_4__","newUser","hashPassword","save","CREATED","jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__","jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default","dotenv__WEBPACK_IMPORTED_MODULE_1__","dotenv__WEBPACK_IMPORTED_MODULE_1___default","_status__WEBPACK_IMPORTED_MODULE_2__","decoded","verify","tag","Promise","resolve","reject","hash","err","mongoose__WEBPACK_IMPORTED_MODULE_0__","mongoose__WEBPACK_IMPORTED_MODULE_0___default","_models_users_model__WEBPACK_IMPORTED_MODULE_1__","mongoose","global","usersModel","newConnection","createConnection","bufferCommands","bufferMaxEntries","keepAlive","Schema","type","String","unique","required","active","Boolean","default","confirmed","last_login","Date","now","usePushEach","timestamps","updatedAt","createdAt","SUCCESS","BAD_REQUEST","require"],"mappings":"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","file":"index.js","sourceRoot":""}